**0. 공통 / 프로젝트 세팅**

- 엔진/프레임워크 선택 및 버전 고정
- 해상도 / 화면 비율 기본 정책 결정 (예: 16:9 기준)
- 인게임 공통 UI 프레임(폰트, 버튼 스타일, 컬러 톤) 정의
- 기본 입력 방식 정의 (마우스 + 키보드 / 터치)
- 세이브 데이터 형식 결정 (JSON / PlayerPrefs / 기타)
- 기본 세이브/로드 루틴 (자동 저장 or 수동 저장 버튼)

---

**1. 전투 시스템**

1-1. 전투 기본 구조

- 전투 맵
    - 직사각형 탑다운 맵 1종 (바닥 타일 or 심플 배경)
    - 아군 스폰 영역(왼쪽/하단 쪽), 적군 스폰 영역(오른쪽/상단 쪽) 정의
- 카메라
    - 탑다운 고정 카메라
    - 전투 중 카메라 움직임 없음
- 아군 / 적군 유닛 배치
    - 아군 최대 4명 스폰 포인트 정의
    - 적군 최대 4명 스폰 포인트 정의
    - 근접/원딜에 따라 앞/뒤 스폰 위치 다르게 배치 (초기 진형만)

---

1-2. 유닛 스탯 & 이동/공격 루프

- 공통 스탯 정의
    - Health
    - AttackDamage
    - 공격 쿨타임(AttackSpeed)
    - 이동 속도(MoveSpeed)
    - 공격 사거리(AttackRange)
    - 시야/탐지 범위(DetectRange)
- 상태 머신(간단 버전)
    - Idle (타겟 없음 / 대기)
    - Move (타겟을 향해 이동 중)
    - Attack (사거리 안일 때 공격 모션 + 데미지)
    - Dead (사망 처리)
- 이동 로직
    - 타겟 위치 방향으로 직선 이동 (복잡한 길찾기 없이)
    - 다른 유닛과 겹치는 정도는 v0.1에서 단순 처리(겹침 허용 or 최소 충돌만)
- 공격 로직
    - 공격 쿨타임 타이머 관리
    - AttackRange 안에 있으면 이동 중단 후 공격
    - 근접/원거리 동일 로직 사용, 원딜은 AttackRange 길게 설정

---

1-3. 타겟팅 & 간단 AI

- 타겟 선택 규칙
    - “가장 가까운 적” 기본 규칙
    - 타겟이 죽으면 → 다시 가장 가까운 적 탐색
- 타겟 탐색 주기
    - 매 프레임이 아니라, 일정 간격(예: 0.2초마다)로 재탐색
- 우선순위 (선택 사항, 나중에 확장 가능)
    - v0.1에선 단순 거리 우선
    - 탱커 우선 타겟팅 등은 이후 버전으로 미룸

---

1-4. 전투 진행 & 승패 / 보상

- 전투 시작
    - 스테이지 정보(적 리스트, 스폰 위치) 로드
    - 파티 정보 받아서 아군 유닛 생성
- 진행 루프
    - 모든 유닛 AI 업데이트 (이동/공격)
    - HP 0 이하 유닛 Dead 상태 전환
- 승패 판정
    - 적군 전원 사망 → 승리
    - 아군 전원 사망 → 패배
- 전투 종료 처리
    - 승리 시: 골드 보상 계산 후 지급
    - 패배 시: 보상 없음(또는 소량) 정책 v0.1 기준으로 확정
    - 결과 화면으로 전환 (승리/패배 텍스트 + 골드 표시)

---

1-5. 전투 UI (탑다운에 맞게)

- 유닛 HP 표시
    - 각 유닛 머리 위 HP 바 or 간단한 체력 게이지
- 전투 기본 정보
    - 화면 상단 or 구석에 현재 스테이지 이름/번호
    - 현재 보유 골드(선택)
- 조작 관련
    - 일시정지 버튼(필요하면 v0.1에서 생략 가능, 정책만 결정)
    - 전투 포기/나가기 버튼 유무 결정
- 피드백
    - 공격 시 간단 이펙트 또는 데미지 숫자
    - 유닛 사망 시 사라지는 애니메이션 or 간단 이펙트

---

1-6. 데이터 & 구조 쪽 최소 설계

- 유닛/용병 → 전투 유닛 변환
    - 용병(메타 데이터: 레벨/스탯) → 전투 전용 구조체/클래스로 복사
    - 전투 종료 후, 경험치/레벨업 등의 결과만 메타 데이터에 반영
- 스테이지 데이터
    - 적 종류, 개수, 스폰 위치 or 스폰 범위
    - 승리 보상 골드 값
- 업데이트 순서(의사 코드 정도)
    - 입력/일시정지 처리 → 유닛 AI 업데이트 → 충돌/사망 처리 → 승패 체크

---

**2. 용병 시스템**

**2-1. 기본 데이터 구조**

- 용병 고유 ID, 이름, 직업, 레벨, 경험치, 현재 스탯 필드 정의
- 직업 3종 정의 (예: 탱커 / 딜러 / 힐러)
- 직업별 기본 스탯 테이블 작성
- 레벨당 스탯 증가량 정의

**2-2. 레벨업 & 성장**

- 레벨 최대치 설정 (예: Lv.10)
- 레벨업 경험치 요구량 공식/테이블 정의
- 레벨업 시 필요 골드 or 재화 정의
- 레벨업 UI (버튼, 요구량 표시, 성공/실패 처리)

**2-3. 파티 구성**

- 소유 용병 목록 데이터 구조
- 출전 파티 슬롯(최대 4명) 데이터 구조
- 용병 목록 → 파티 슬롯 배치/교체 기능
- 파티 편성 저장 (던전 입장 시 이 구성 사용)

**2-4. 기타 정책**

- 용병 사망 시 페널티 유무 (v0.1에선 없음으로 단순화 가능)
- 중복 용병 허용 여부 (같은 직업/캐릭 여러 명 가능?)

---

**3. 마을 시스템**

**3-1. 마을 메인 화면**

- 마을 기본 배경 1종
- 최소 건물 버튼 2~3개 배치 (예: 길드하우스, 술집, 던전 입구)
- 각 건물 클릭 → 해당 화면으로 이동 로직

**3-2. 길드 하우스(용병 관리)**

- 소유 용병 목록 표시 UI
- 용병 상세 보기(이름, 레벨, 스탯)
- 레벨업 버튼 및 비용 표시
- 파티 편성 화면 진입 또는 같은 화면 내 편성 영역

**3-3. 술집(용병 고용)**

- 고용 후보 용병 리스트(예: 3명) 표시
- 용병 클릭 시 상세 정보/스탯 미리보기
- 고용 비용 표시 및 고용 버튼
- 고용 시: 골드 차감 + 용병 목록에 추가
- 새로고침 정책 (v0.1에서는 고정 리스트 or 전투 후 리필 등 단순 정책 결정)

**3-4. 기타 마을 UI**

- 현재 골드 표시
- 마을에서 던전 선택 화면으로 이동 버튼

---

**4. 던전 / 스테이지 시스템**

**4-1. 던전 구조**

- 지역 1개 정의 (예: 초원 지역)
- 해당 지역 내 스테이지 5~10개 정의
- 스테이지별 적 구성 데이터 (적 종류, 수)
- 스테이지별 권장 전투력(또는 난이도 레벨) 값 정의

**4-2. 던전 선택 화면**

- 지역 선택(현재는 1개만 있어도 됨)
- 스테이지 리스트 UI (1-1, 1-2, … 형식)
- 각 스테이지에:
- 스테이지 이름/번호
- 예상 적 정보 간단 표시(아이콘/수치 등)
- 권장 전투력(또는 난이도)

**4-3. 전투 진입/종료 플로우**

- 스테이지 선택 → 파티 편성 확인(또는 바로 전투)
- 전투 시작 버튼
- 전투 종료 후 결과 화면에서:
- 다시 도전 버튼
- 마을로 돌아가기 버튼

---

**5. 경제 시스템 (v0.1: 골드만)**

**5-1. 자원 정의**

- v0.1에서는 골드 1종만 사용 결정
- 골드 상한값(필요 시) 설정

**5-2. 골드 획득 루프**

- 스테이지별 클리어 골드 보상 테이블 작성
- 전투 승리 시 보상 지급 로직
- 패배 시 보상 없음(또는 소량 지급) 정책 결정

**5-3. 골드 소비처**

- 용병 고용 비용 설계
- 용병 레벨업 비용 설계
- (선택) 기타 소비처는 v0.1에서 제외

**5-4. 밸런스 1차 점검**

- 평균적으로 N판 플레이하면 용병 n명 & 특정 레벨에 도달하도록 값 조정
- “막힘 구간”이 너무 심하지 않은지 간단 테스트

---

**6. UX / 기타**

- 최소 옵션 메뉴(사운드 on/off 정도)
- 간단한 튜토리얼 텍스트 or 첫 플레이 가이드 (툴팁 수준)
- 오류 상황 기본 처리 (골드 부족, 파티 빈 슬롯 등 경고 메시지)